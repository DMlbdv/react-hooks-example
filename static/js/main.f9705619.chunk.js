(this["webpackJsonptech-sandbox"]=this["webpackJsonptech-sandbox"]||[]).push([[0],{179:function(e,t,a){e.exports=a(371)},184:function(e,t,a){},370:function(e,t,a){},371:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),i=a.n(c),l=(a(184),a(7)),o=a(149),s=a(30),u=a.n(s),m=a(33),d=function(e,t){switch(t.type){case"FETCH_INIT":return Object(m.a)({},e,{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return Object(m.a)({},e,{isLoading:!1,isError:!1,data:t.payload});case"FETCH_FAILURE":return Object(m.a)({},e,{isLoading:!1,isError:!0});default:throw new Error}},E={isLoading:!1,isError:!1,data:[]};var v=function(e){var t=e.url,a=Object(n.useReducer)(d,E),r=Object(l.a)(a,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){!function(){var e;u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return i({type:"FETCH_INIT"}),a.prev=1,a.next=4,u.a.awrap(fetch("".concat(t)).then((function(e){return e.json()})));case 4:e=a.sent,i({type:"FETCH_SUCCESS",payload:e}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),i({type:"FETCH_FAILURE"});case 11:case"end":return a.stop()}}),null,null,[[1,8]])}()}),[t]),c},f=a(41);function h(e){var t=e.data;return r.a.createElement("div",{className:"barchart-wrapper"},r.a.createElement(f.b,{width:1e4,height:250,data:t,margin:{top:20}},r.a.createElement(f.d,{dataKey:"date"}),r.a.createElement(f.a,{dataKey:"value",stackId:"value",fill:"#2684FF"},r.a.createElement(f.c,{dataKey:"value",position:"top"}))))}var y=a(55),p={min:null,max:null},g=a(147),w=a.n(g),b=function(e){var t=e.status,a=e.timeseries,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.reduce((function(e,t){console.log(t);var a=Object(l.a)(t,2)[1],n=e.min,r=e.max;return n?Object(m.a)({},e,{min:a<n?a:n,max:a>r?a:r}):{min:a,max:a}}),p)}(a);return{min:n.min,max:n.max,status:t,series:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){var a=Object(l.a)(e,1)[0],n=Object(l.a)(t,1)[0];return new Date(a).getTime()-new Date(n).getTime()}))}(a).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return{date:w()(a,"dd mmm yyyy"),value:n}}))}},j="https://city-json-serve.herokuapp.com",C={CITY_DATA:"".concat(j,"/city-data/"),CITY_LIST:"".concat(j,"/city-list/")};var T=function(e){var t=e.cityList,a=e.cityId,n=v({url:"".concat(C.CITY_DATA).concat(a)}),c=n.data,i=n.isLoading,l=n.isError,o=!i&&!l&&b(c),s=o.min,u=o.max,m=o.status,d=o.series,E=!i&&!l&&function(e,t){try{return e.find((function(e){return e.id===t})).title}catch(a){throw'Check args. provided to "getName"'}}(t,a);return i?r.a.createElement("div",{className:"d-flex whole-wp justify-content-center align-items-center"},r.a.createElement(y.a,null)):l?r.a.createElement("div",{className:"d-flex justify-content-center"},"SERVER ERROR: Something went wrong ..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"data"},r.a.createElement("div",null,r.a.createElement("b",null,"City Name:")," ",E),r.a.createElement("div",null,r.a.createElement("b",null,"Status:")," ",m),r.a.createElement("div",null,r.a.createElement("b",null,"Highest value:")," ",u),r.a.createElement("div",null,r.a.createElement("b",null,"Lowest value:")," ",s)),r.a.createElement(h,{data:d}))};a(370);var x=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],i=v({url:C.CITY_LIST}),s=i.data,u=i.isLoading,m=i.isError,d=s.map((function(e){return{value:e.id,label:e.title}}));return u?r.a.createElement("div",{className:"d-flex whole-wp justify-content-center align-items-center"},r.a.createElement(y.a,null)):m?r.a.createElement("div",{className:"d-flex justify-content-center"},"SERVER ERROR: Something went wrong ..."):r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"city-list"},r.a.createElement(o.a,{className:"city-select",value:a,onChange:function(e){c(e)},options:d,placeholder:"Select City..."})),r.a.createElement("div",{className:"city-data"},a&&r.a.createElement(T,{cityList:s,cityId:a.value})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[179,1,2]]]);
//# sourceMappingURL=main.f9705619.chunk.js.map