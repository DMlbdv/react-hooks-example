(this["webpackJsonpreact-hooks-example"]=this["webpackJsonpreact-hooks-example"]||[]).push([[0],{179:function(e,t,a){e.exports=a(371)},184:function(e,t,a){},370:function(e,t,a){},371:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),i=a.n(r),l=(a(184),a(7)),o=a(148),s=a(30),u=a.n(s);var m=function(e){var t=e.url,a=Object(n.useState)([]),c=Object(l.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(!1),s=Object(l.a)(o,2),m=s[0],d=s[1],v=Object(n.useState)(!1),E=Object(l.a)(v,2),f=E[0],h=E[1];return Object(n.useEffect)((function(){!function(){var e;u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return d(!0),h(!1),a.prev=2,a.next=5,u.a.awrap(fetch("".concat(t)).then((function(e){return e.json()})));case 5:e=a.sent,i(e),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),h(!0);case 12:d(!1);case 13:case"end":return a.stop()}}),null,null,[[2,9]])}()}),[t]),{data:r,isLoading:m,isError:f}},d=a(40);function v(e){var t=e.data;return c.a.createElement("div",{className:"barchart-wrapper"},c.a.createElement(d.b,{width:1e4,height:250,data:t,margin:{top:20}},c.a.createElement(d.d,{dataKey:"date"}),c.a.createElement(d.a,{dataKey:"value",stackId:"value",fill:"#2684FF"},c.a.createElement(d.c,{dataKey:"value",position:"top"}))))}var E=a(54),f=a(149),h=a(146),y=a.n(h),p=function(e){var t=e.status,a=e.timeseries,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var a=Object(l.a)(t,2)[1],n=e.min,c=e.max;return n?Object(f.a)({},e,{min:a<n?a:n,max:a>c?a:c}):{min:a,max:a}}),{min:null,max:null})}(a);return{min:n.min,max:n.max,status:t,series:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){var a=Object(l.a)(e,1)[0],n=Object(l.a)(t,1)[0];return new Date(a).getTime()-new Date(n).getTime()}))}(a).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return{date:y()(a,"dd mmm yyyy"),value:n}}))}},b="https://city-json-serve.herokuapp.com",g={CITY_DATA:"".concat(b,"/city-data/"),CITY_LIST:"".concat(b,"/city-list/")};var j=function(e){var t,a=e.cityList,n=e.cityId,r=m({url:"".concat(g.CITY_DATA).concat(n)}),i=r.data,l=r.isLoading,o=r.isError,s=!l&&!o&&p(i),u=s.min,d=s.max,f=s.status,h=s.series,y=!l&&!o&&(t=n,a.find((function(e){return e.id===t})).title);return l?c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(E.a,null)):o?c.a.createElement("div",{className:"d-flex justify-content-center"},"SERVER ERROR: Something went wrong ..."):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"data"},c.a.createElement("div",null,c.a.createElement("b",null,"City Name:")," ",y),c.a.createElement("div",null,c.a.createElement("b",null,"Status:")," ",f),c.a.createElement("div",null,c.a.createElement("b",null,"Highest value:")," ",d),c.a.createElement("div",null,c.a.createElement("b",null,"Lowest value:")," ",u)),c.a.createElement(v,{data:h}))};a(370);var w=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],r=t[1],i=m({url:g.CITY_LIST}),s=i.data,u=i.isLoading,d=i.isError,v=s.map((function(e){return{value:e.id,label:e.title}}));return u?c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(E.a,null)):d?c.a.createElement("div",{className:"d-flex justify-content-center"}," SERVER ERROR: Something went wrong ..."):c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"city-list"},c.a.createElement(o.a,{className:"city-select",value:a,onChange:function(e){r(e)},options:v,placeholder:"Select City..."})),c.a.createElement("div",{className:"city-data"},a&&c.a.createElement(j,{cityList:s,cityId:a.value})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[179,1,2]]]);
//# sourceMappingURL=main.ac50ecf0.chunk.js.map